<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">

	<title>Save Customer</title>
</head>

<body>

	<div class="container">

		<h3>customer Directory</h3>
		<hr>

		<p class="h4 mb-4">Save Customer</p>
		<form action="#" th:action="@{/my_ad/selectCities}" th:object="${ad}" method="POST" enctype="multipart/form-data">

			<input type="hidden" th:field="*{customerId}" />
			<input type="hidden" th:field="*{gender}" />
			<input type="hidden" th:field="*{language}" />

			<label>Страна</label>
			<select name="countryId" class="form-control mb-4 col-4">
				<option value="">Страна</option>
				<option th:each="maxCountry : ${maxCountryList}"
						th:selected="${maxCountry.id.equals('RU')}"
						th:value="${maxCountry.id}" th:text="${maxCountry.countryName}">
				</option>
			</select>

			<input type="text" name="cityNameStart" id="cityNameStart" class="form-control mb-4 col-4"
				   placeholder="City start" th:value="${cityNameStart}">

			<button type="submit" class="btn btn-info col-2">Find Cities</button>
		</form>
	</div>


	<div class="container">
		<p class="h4 mb-4">Save Customer</p>
		<form action="#" th:action="@{/my_ad/save}" th:object="${ad}" method="POST" enctype="multipart/form-data">
		
			<!-- Add hidden form field to handle update -->
			<input type="hidden" th:field="*{customerId}" />
			<input type="hidden" th:field="*{gender}" />
			<input type="hidden" th:field="*{language}" />
			<input type="text" th:field="*{adNickname}" class="form-control mb-4 col-4" placeholder="First name">


			<label>Город</label>
			<select th:field="*{cityId}" class="form-control mb-4 col-4">
				<option value="0">Город</option>
				<option th:each="maxCityName : ${maxCityNameList}"
						th:value="${maxCityName.cityId}" th:text="${maxCityName.cityName}">
				</option>
			</select>
			<!--th:selected="${maxCity.id.equals(5299)}"-->


			<label>День</label>
			<select name="birthdateDay" class="form-control mb-4 col-4">
				<option value="">Дата</option>
				<option th:each="i : ${#numbers.sequence(1, 31)}"
						th:selected="${i.equals(5)}"
						th:value="${i}" th:text="${i}">
				</option>
			</select>


			<label>Месяц</label>
			<select name="birthdateMonth" class="form-control mb-4 col-4">
				<option value="">Месяц</option>
				<option th:each="i : ${#numbers.sequence(0, 11)}"
						th:selected="${i.equals(5)}"
						th:value="${i}" th:text="${i + 1}">
				</option>
			</select>


			<label>Год рождения</label>
			<select name="birthdateYear" class="form-control mb-4 col-4">
				<option value="">Год</option>
				<option th:each="i : ${#numbers.sequence(1950, 2005)}"
						th:selected="${i.equals(2005)}"
						th:value="${i}" th:text="${i}">
				</option>
			</select>


			<label>Family status</label>
			<select th:field="*{maritalStatusId}" class="form-control mb-4 col-4" name="carsBrandId">
				<option th:each="theMaritalStatuses : ${maritalStatusList}"
						th:value="${theMaritalStatuses.genderLangPk.maritalStatusId}"
						th:selected="${theMaritalStatuses.genderLangPk.maritalStatusId.equals(maritalStatusId)}"
						th:text="${theMaritalStatuses.statusName}">Each</option>
			</select>


			<button type="submit" class="btn btn-info col-2">Save</button>
						
		</form>
		<hr>
		<a th:href="@{/customer/list}">Back to Customers List</a>
		
	</div>
</body>

</html>










